سأقوم باستبدال **JavaScript** بـ **TypeScript** في قسم المكتبات ولغات البرمجة في وثيقة PRD، مع التأكد من أن الوصف يظل متسقًا. TypeScript يوفر فوائد إضافية مثل الكتابة الثابتة (Static Typing) وتحسين صيانة الكود، وهو خيار ممتاز لتطبيق مثل هذا. إليك النسخة المحدثة:

---

# **وثيقة متطلبات المنتج (PRD) - تطبيق قوائم التسوق التفاعلية**

## **نظرة عامة**
تطبيق ويب يتيح للمستخدمين إنشاء قوائم تسوق، إرسالها إلى أشخاص محددين، تلقي إشعارات خارجية وداخلية، والتفاعل مع القوائم عبر الشطب والردود. الهدف هو توفير تجربة مستخدم بسيطة وممتازة على الهاتف.

- **اسم المنتج**: قائمة التسوق التفاعلية
- **الجمهور المستهدف**: الأفراد الذين يحتاجون إلى مشاركة قوائم التسوق مع الآخرين (عائلات، أصدقاء، زملاء).
- **التاريخ**: 02 أبريل 2025

---

## **الأهداف**
1. تمكين المستخدمين من إنشاء قوائم تسوق وإرسالها بسهولة.
2. توفير إشعارات فورية للمستلمين عند وصول قائمة أو تحديثها.
3. السماح للمستلمين برؤية القوائم والتفاعل معها (شطب المنتجات، إرسال ردود).
4. ضمان تجربة متجاوبة وسهلة على الهاتف.

---

## **المتطلبات الوظيفية**
### **1. صفحة تسجيل الدخول / التسجيل**
- **الوصف**: صفحة لتسجيل الدخول أو إنشاء حساب جديد.
- **المتطلبات**:
  - عرض شعار أو اسم التطبيق.
  - حقل لإدخال البريد الإلكتروني.
  - حقل لإدخال كلمة المرور.
  - حقل لإدخال اسم مستخدم فريد (عند التسجيل فقط).
  - زر "تسجيل الدخول" ورابط "إنشاء حساب".
  - خيار تسجيل الدخول باستخدام Google (اختياري).
  - عرض رسائل خطأ عند إدخال بيانات غير صحيحة.
- **الانتقال**: إلى الصفحة الرئيسية بعد تسجيل الدخول، أو نافذة لإدخال الاسم ورفع الصورة بعد التسجيل.

### **2. الصفحة الرئيسية (Home)**
- **الوصف**: نقطة مركزية للوصول إلى الوظائف الأساسية.
- **المتطلبات**:
  - عرض ترحيب باسم المستخدم (مثل "مرحبًا، محمد").
  - زر بارز "إنشاء قائمة جديدة".
  - قسم لعرض آخر الإشعارات (مثل "قائمة جديدة من `sara456`").
  - شريط تنقل سفلي مع أيقونات ونصوص: "الرئيسية"، "الأشخاص"، "الرسائل"، "الملف الشخصي".
- **الانتقال**: إلى صفحة إنشاء القائمة، الرسائل، أو الملف الشخصي.

### **3. صفحة إنشاء القائمة**
- **الوصف**: صفحة لإنشاء قائمة تسوق وإرسالها.
- **المتطلبات**:
  - عنوان "أنشئ قائمتك".
  - حقل نص لإدخال المنتجات (يضاف المنتج عند الضغط على إنتر).
  - قائمة ديناميكية تعرض المنتجات المضافة مع خيار حذف كل منتج.
  - زر "إرسال" يظهر بعد إضافة منتج واحد على الأقل.
  - نافذة منبثقة لاختيار المستلم من قائمة الأشخاص المضافين (صورة واسم).
- **الانتقال**: العودة إلى الصفحة الرئيسية مع رسالة تأكيد بعد الإرسال.

### **4. صفحة الأشخاص (Contacts)**
- **الوصف**: صفحة لإضافة الأشخاص وعرضهم.
- **المتطلبات**:
  - عنوان "أشخاصي".
  - حقل لإدخال اسم مستخدم مع زر "إضافة".
  - قائمة تعرض الأشخاص المضافين كبطاقات (صورة دائرية، الاسم، اسم المستخدم).
  - خيار حذف كل شخص مع رسالة تأكيد.
- **الانتقال**: تحديث فوري للقائمة بعد الإضافة أو الحذف.

### **5. صفحة الرسائل / القوائم الواردة (Messages/Inbox)**
- **الوصف**: صفحة لعرض القوائم المرسلة إلى المستخدم.
- **المتطلبات**:
  - عنوان "رسائلي".
  - قائمة تعرض الرسائل الواردة (صورة المرسل، الاسم، معاينة صغيرة للمنتج الأول).
  - إشارة "جديد" للرسائل غير المفتوحة (مثل نقطة حمراء).
- **الانتقال**: إلى صفحة عرض القائمة عند الضغط على رسالة.

### **6. صفحة عرض القائمة (List View)**
- **الوصف**: صفحة لعرض القائمة المرسلة والتفاعل معها.
- **المتطلبات**:
  - رأس يعرض "قائمة من [اسم المرسل]" مع صورته.
  - قائمة المنتجات مع مربعات اختيار للشطب.
  - حقل نص لكتابة رد مع زر "إرسال".
  - زر "رجوع" للعودة إلى الرسائل.
  - إرسال إشعار خارجي وداخلي للمرسل عند شطب منتج أو إرسال رد.
  - عرض المنتجات المشطبة بلون مختلف مع خط فاصل.
- **الانتقال**: العودة إلى صفحة الرسائل بعد التفاعل.

### **7. صفحة الملف الشخصي (Profile)**
- **الوصف**: صفحة لعرض وتعديل بيانات المستخدم.
- **المتطلبات**:
  - صورة شخصية كبيرة مع خيار تغييرها.
  - حقل لعرض وتعديل الاسم الحقيقي.
  - عرض اسم المستخدم (غير قابل للتعديل).
  - حقل لعرض وتعديل البريد الإلكتروني.
  - زر "حفظ التغييرات" مع رسالة تأكيد.
  - زر "تسجيل الخروج".
- **الانتقال**: العودة إلى الرئيسية بعد الحفظ، أو صفحة تسجيل الدخول بعد الخروج.

---

## **المتطلبات غير الوظيفية**
1. **التوافق مع الهاتف**: تصميم متجاوب مع أزرار كبيرة ومسافات واضحة.
2. **الأداء**: تحميل سريع للصفحات، تحديثات فورية للإشعارات والتفاعلات.
3. **الأمان**: مصادقة آمنة للمستخدمين، حماية البيانات الشخصية.
4. **التصميم**: ألوان متناسقة (أزرق للإجراءات، أحمر للحذف)، خطوط واضحة.

---

## **الافتراضات**
- المستخدمون لديهم اتصال بالإنترنت لإرسال واستقبال القوائم والإشعارات.
- الأجهزة تدعم الإشعارات الخارجية (مثل الهواتف الذكية).
- كل مستخدم لديه اسم مستخدم فريد.

---

## **المكتبات ولغات البرمجة المستخدمة**
- **لغات البرمجة**:
  - **TypeScript**: اللغة الأساسية لتطوير الواجهة الأمامية والتفاعل مع دعم الكتابة الثابتة.
  - **HTML**: لبناء هيكلية الصفحات.
  - **CSS**: للتصميم الأساسي (مع مكتبات إضافية).
- **الواجهة الأمامية**:
  - **React.js**: إطار عمل لإنشاء صفحات ديناميكية وتفاعلية (بديل: Next.js لتحسين الأداء).
  - **Tailwind CSS**: لتصميم متجاوب وسريع، متوافق مع الهاتف.
  - **Shadcn UI**: مكتبة مكونات جاهزة وسهلة التخصيص تعتمد على Tailwind.
  - **Radix UI**: مكونات أساسية غير مزخرفة مع إمكانية الوصول.
  - **React Router**: للتنقل بين الصفحات بسلاسة.
- **الواجهة الخلفية والبيانات**:
  - **Supabase**: لإدارة قاعدة البيانات (PostgreSQL)، المصادقة (Auth)، التخزين (Storage)، والتحديثات الفورية (Realtime).
  - **Supabase JavaScript Client (`@supabase/supabase-js`)**: للتكامل مع الواجهة الأمامية.
- **الإشعارات الخارجية**:
  - **Firebase Cloud Messaging (FCM)**: لإرسال الإشعارات الخارجية.
  - **Firebase JavaScript SDK**: لتسجيل الأجهزة وإدارة الـ Push Tokens.
- **أدوات إضافية**:
  - **Axios**: لإجراء طلبات HTTP إذا لزم الأمر (اختياري).
  - **React Icons**: لأيقونات جذابة.
- **الاستضافة**:
  - **Vercel**: لنشر التطبيق بسهولة مع دعم React/Next.js.
- **أدوات التطوير**:
  - **Node.js**: لبيئة التطوير والتشغيل.
  - **npm أو Yarn**: لإدارة المكتبات.

---


---

## **المخاطر**
1. تأخير في تكامل الإشعارات الخارجية بسبب توافق الأجهزة.
2. مشكلات في الأداء إذا زاد عدد المستخدمين بشكل كبير.
3. تعقيدات في ضمان توافق التصميم مع جميع أحجام الشاشات.
